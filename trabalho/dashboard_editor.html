<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard do Editor - Locadora de Livros</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="estilos_dashboard_editor.css">
</head>
<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="logo-sidebar">
                <img src="wda_group_logo.png" alt="Logo wda GROUP">
                <span>LOCADORA DE LIVROS</span>
            </div>
            <nav class="menu">
                <ul>
                    <li class="menu-item menu-item-button">
                        <a href="mostrar_locatarios.html">
                            <i class="fas fa-users"></i>
                            <span>Mostrar Locat√°rios</span>
                        </a>
                    </li>
                    <li class="menu-item menu-item-button">
                        <a href="mostrar_livros_editor.html">
                            <i class="fas fa-book"></i>
                            <span>Mostrar Livros</span>
                        </a>
                    </li>
                    <li class="menu-item menu-item-button">
                        <a href="mostrar_editoras.html">
                            <i class="fas fa-building"></i>
                            <span>Mostrar Editoras</span>
                        </a>
                    </li>
                    <li class="menu-item menu-item-button">
                        <a href="mostrar_usuarios.html">
                            <i class="fas fa-user"></i>
                            <span>Mostrar Usu√°rios</span>
                        </a>
                    </li>
                    <li class="menu-item menu-item-button">
                        <a href="mostrar_alugueis.html">
                            <i class="fas fa-handshake"></i>
                            <span>Mostrar Alugu√©is</span>
                        </a>
                    </li>
                    <li class="menu-item-divider"></li>
                    <li class="menu-item active">
                        <i class="fas fa-chart-line"></i>
                        <span>Dashboard</span>
                    </li>
                    <li class="menu-item">
                        <a href="#" onclick="abrirPesquisa()">
                            <i class="fas fa-search"></i>
                            <span>Pesquisar</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="#" onclick="abrirMinhaConta()">
                            <i class="fas fa-user-circle"></i>
                            <span>Conta de Usu√°rio</span>
                        </a>
                    </li>
                    <li class="menu-item menu-item-sair">
                        <a href="#" onclick="confirmarLogout()">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Sair</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <main class="main-content">
            <header class="main-header">
                <h2>
                    <i class="fas fa-chart-bar header-icon"></i>
                    DASHBOARD DO EDITOR
                </h2>
                <p>Acompanhe as m√©tricas de desempenho da locadora.</p>
            </header>

  <div class="stats-section">
  <h2>üìä Estat√≠sticas Gerais</h2>

  <div class="stats-grid">
    <div class="stat-box"><h4>Total de Livros</h4><div class="number">26</div></div>
    <div class="stat-box"><h4>Alugu√©is Ativos</h4><div class="number">6</div></div>
    <div class="stat-box"><h4>Devolvidos no Prazo</h4><div class="number">6</div></div>
    <div class="stat-box"><h4>Devolvidos com Atraso</h4><div class="number">5</div></div>
    <div class="stat-box"><h4>Usu√°rios Cadastrados</h4><div class="number">7</div></div>
    <div class="stat-box"><h4>Total de Editoras</h4><div class="number">15</div></div>
  </div>

  <div class="chart-section" style="display: flex; flex-wrap: wrap; gap: 40px; margin-top: 40px; justify-content: center;">
    <div style="width: 420px; margin: 0 auto;">
      <h4 style="text-align: center;">- Empr√©stimos por Usu√°rio</h4>
      <canvas id="userLoanChart" height="280"></canvas>
    </div>

    <div style="width: 400px; margin: 0 auto;">
      <h4 style="text-align: center;">- Devolu√ß√µes (Prazo vs Atraso)</h4>
      <canvas id="returnStatusChart" height="220"></canvas>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  const userLoanCtx = document.getElementById('userLoanChart').getContext('2d');
  new Chart(userLoanCtx, {
    type: 'bar',
    data: {
      labels: ['Jo√£o da Silva', 'Maria Souza', 'Lucas Pereira', 'Ana Lima', 'Rafael Oliveira'],
      datasets: [{
        label: 'Total de Empr√©stimos',
        data: [3, 2, 1, 1, 1],
        backgroundColor: '#4db6ac'
      }]
    },
    options: {
      responsive: true,
      plugins: { legend: { display: false } },
      scales: {
        y: {
          beginAtZero: true,
          ticks: { stepSize: 2 }
        }
      }
    }
  });

  const returnStatusCtx = document.getElementById('returnStatusChart').getContext('2d');
  new Chart(returnStatusCtx, {
    type: 'pie',
    data: {
      labels: ['No Prazo', 'Com Atraso'],
      datasets: [{
        data: [6, 5],
        backgroundColor: ['#81c784', '#e57373']
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'bottom'
        }
      }
    }
  });
</script>
    <div id="popupPesquisa" class="modal">
        <div class="modal-content">
            <h3>Pesquisar Livros (Sistema)</h3>
            <input type="text" id="campoPesquisa" onkeyup="filtrarLivros()" placeholder="Digite o nome do livro...">
            <h4>Resultados:</h4>
            <ul id="listaResultadosPesquisa">
                </ul>
            <button onclick="fecharPesquisa()" class="modal-close-button">Fechar</button>
        </div>
    </div>

    <div id="popupMinhaConta" class="modal">
        <div class="modal-content">
            <h3>Minha Conta (Editor)</h3>
            <p><strong>Nome:</strong> [Nome do Editor]</p>
            <p><strong>Email:</strong> [email.editor@exemplo.com]</p>
            <p><strong>Cargo:</strong> Editor/Funcion√°rio</p>
            <button onclick="fecharMinhaConta()" class="modal-close-button">Fechar</button>
        </div>
    </div>

    <script src="common.js"></script> <script>
        function confirmarLogout() {
            const confirmacao = confirm("Tem certeza que deseja sair?");
            if (confirmacao) {
                window.location.href = "login.html"; 
            }
        }
    </script>
</body>
</html>